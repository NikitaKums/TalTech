@using System.Globalization
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>@ViewData["Title"] - ShopApp</title>

    <environment include="Development">
        <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.css"/>
    </environment>
    <environment exclude="Development">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css"
              asp-fallback-href="~/lib/bootstrap/dist/css/bootstrap.min.css"
              asp-fallback-test-class="sr-only" asp-fallback-test-property="position" asp-fallback-test-value="absolute"
              crossorigin="anonymous"
              integrity="sha256-eSi1q2PG6J7g7ib17yAaWMcrr5GrtohYChqibrV7PBE="/>
    </environment>
    <!-- Tell the browser to be responsive to screen width -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="~/AdminLTE/plugins/font-awesome/css/font-awesome.min.css">
    <!-- iCheck -->
    <link rel="stylesheet" href="~/lib/flatpickr/dist/flatpickr.min.css">
    <link rel="stylesheet" type="text/css" href="~/lib/flatpickr/dist/themes/confetti.css">
    <link rel="stylesheet" href="~/AdminLTE/dist/css/adminlte.min.css"/>
    <link rel="stylesheet" href="~/dist/css/select2.min.css"/>
    <link rel="stylesheet" href="~/css/customAdmin.css"/>
    <link rel="stylesheet" href="~/css/site.css"/>
</head>

<body class="sidebar-mini">

<div class="wrapper">
    <!-- Navbar -->
    <nav class="main-header navbar navbar-expand bg-light border-bottom">

        <!-- Left navbar links -->
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link" data-widget="pushmenu" href="#">
                    <i class="fa fa-bars"></i>
                </a>
            </li>
            <li class="nav-item">
                <partial name="_LanguageSelectionPartial"/>
            </li>
        </ul>
        <!-- Right navbar links -->
        <ul class="navbar-nav ml-auto">
            <partial name="_LoginPartial"/>
        </ul>
    </nav>
    <!-- /.navbar -->

    <!-- Main Sidebar Container -->
    <aside class="main-sidebar sidebar-light-dark elevation-4">
        <!-- Brand Logo -->
        <a asp-area="Admin" asp-controller="Home" asp-action="Index" class="brand-link">
            <img src="~/AdminLTE/dist/img/admin_512dp.png" alt="Shop Admin" class="brand-image"style="opacity: .8">
            <span class="brand-text font-weight-light" style="font-size: 17px">ShopApp @Resources.Views.Shared._Layout.LayoutAdmin</span>
        </a>

        <!-- Sidebar Menu -->
        <div class="sidebar">
            <nav class="mt-2">
                <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
                    <li class="nav-item">
                        <a class="nav-link" asp-area="Admin" asp-controller="Home" asp-action="Index">
                            <i class="nav-icon fa fa-home"></i>
                            <p>@Resources.Views.Shared._Layout.LayoutHome</p>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" asp-area="Identity" asp-page="/Account/Manage/Index" title="Manage">
                            <i class="nav-icon fa fa-user"></i>
                            <p>@Resources.Views.Shared._Layout.LayoutAccount</p>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" asp-area="Admin" asp-controller="Users" asp-action="Index">
                            <i class="nav-icon fa fa-user"></i>
                            <p>@Resources.Views.Shared._Layout.LayoutUsers</p>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" asp-area="Admin" asp-controller="Shops" asp-action="Index">
                            <i class="nav-icon fa fa-shopping-bag"></i>
                            <p>@Resources.Views.Shared._Layout.LayoutShop</p>
                        </a>
                    </li>
                    <li class="nav-header">@Resources.Views.Shared._Layout.LayoutTABLES</li>
                    <li class="nav-item">
                        <a class="nav-link" asp-area="Admin" asp-controller="Sales" asp-action="Index">
                            <i class="nav-icon fa fa-table"></i>
                            <p>@Resources.Views.Shared._Layout.LayoutSale</p>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" asp-area="Admin" asp-controller="Products" asp-action="Index">
                            <i class="nav-icon fa fa-table"></i>
                            <p>@Resources.Views.Shared._Layout.LayoutProduct</p>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" asp-area="Admin" asp-controller="Comments" asp-action="Index">
                            <i class="nav-icon fa fa-table"></i>
                            <p>@Resources.Views.Shared._Layout.LayoutComment</p>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" asp-area="Admin" asp-controller="Categories" asp-action="Index">
                            <i class="nav-icon fa fa-table"></i>
                            <p>@Resources.Views.Shared._Layout.LayoutCategory</p>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" asp-area="Admin" asp-controller="Defects" asp-action="Index">
                            <i class="nav-icon fa fa-table"></i>
                            <p>@Resources.Views.Shared._Layout.LayoutDefect</p>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" asp-area="Admin" asp-controller="Orders" asp-action="Index">
                            <i class="nav-icon fa fa-table"></i>
                            <p>@Resources.Views.Shared._Layout.LayoutOrder</p>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" asp-area="Admin" asp-controller="Inventorys" asp-action="Index">
                            <i class="nav-icon fa fa-table"></i>
                            <p>@Resources.Views.Shared._Layout.LayoutInventory</p>
                        </a>
                    </li>


                    <li class="nav-item">
                        <a class="nav-link" asp-area="Admin" asp-controller="Returns" asp-action="Index">
                            <i class="nav-icon fa fa-table"></i>
                            <p>@Resources.Views.Shared._Layout.LayoutReturn</p>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" asp-area="Admin" asp-controller="Shippers" asp-action="Index">
                            <i class="nav-icon fa fa-table"></i>
                            <p>@Resources.Views.Shared._Layout.LayoutShipper</p>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" asp-area="Admin" asp-controller="ManuFacturers" asp-action="Index">
                            <i class="nav-icon fa fa-table"></i>
                            <p>@Resources.Views.Shared._Layout.LayoutManufacturer</p>
                        </a>
                    </li>
                    <li class="nav-item has-treeview menu-closed">
                        <a href="#" class="nav-link active">
                            <i class="nav-icon fa fa-chain"></i>
                            <p>
                                @Resources.Views.Shared._Layout.Many2ManyTables
                                <i class="right fa fa-angle-left"></i>
                            </p>
                        </a>
                        <ul class="nav nav-treeview">
                            <li class="nav-item">
                                <a class="nav-link" asp-area="Admin" asp-controller="ProductsReturned" asp-action="Index">
                                    <i class="nav-icon fa fa-table"></i>
                                    <p>@Resources.Views.Shared._Layout.LayoutProductReturned</p>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" asp-area="Admin" asp-controller="ProductsInCategory" asp-action="Index">
                                    <i class="nav-icon fa fa-table"></i>
                                    <p>@Resources.Views.Shared._Layout.LayoutProductInCategory</p>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" asp-area="Admin" asp-controller="ProductsInOrder" asp-action="Index">
                                    <i class="nav-icon fa fa-table"></i>
                                    <p>@Resources.Views.Shared._Layout.LayoutProductInOrder</p>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" asp-area="Admin" asp-controller="ProductsSold" asp-action="Index">
                                    <i class="nav-icon fa fa-table"></i>
                                    <p>@Resources.Views.Shared._Layout.LayoutProductSold</p>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" asp-area="Admin" asp-controller="ProductsWithDefect" asp-action="Index">
                                    <i class="nav-icon fa fa-table"></i>
                                    <p>@Resources.Views.Shared._Layout.LayoutProductWithDefect</p>
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <hr class="hr-hidden"/>
                        <hr class="hr-hidden"/>
                    </li>
                    <li>
                        <a class="nav-link footer fixed-bottom" asp-area="Admin" asp-controller="Home" asp-action="Privacy">
                            <i class="nav-icon fa fa-copyright"></i>
                            <p> 2019 - WebApp - @Resources.Views.Shared._Layout.LayoutPrivacy</p>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>

    </aside>
    <div class="content-wrapper">
        <div class="container-fluid">
            <partial name="_CookieConsentPartial"/>
            @RenderBody()
        </div>
    </div>
</div>


<environment include="Development">
    <script src="~/lib/jquery/dist/jquery.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.js"></script>
</environment>
<environment exclude="Development">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"
            asp-fallback-src="~/lib/jquery/dist/jquery.min.js"
            asp-fallback-test="window.jQuery"
            crossorigin="anonymous"
            integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.bundle.min.js"
            asp-fallback-src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"
            asp-fallback-test="window.jQuery && window.jQuery.fn && window.jQuery.fn.modal"
            crossorigin="anonymous"
            integrity="sha256-E/V4cWE4qvAeO5MOhjtGtqDzPndRO1LBk8lJ/PR7CA4=">
    </script>
</environment>
<script src="~/AdminLTE/dist/js/adminlte.js"></script>
<script src="~/dist/js/select2.min.js"></script>
<script src="~/lib/flatpickr/dist/flatpickr.min.js"></script>
<script src="~/js/site.js" asp-append-version="true"></script>
<script src="~/lib/flatpickr/dist/l10n/et.js"></script>
<script src="~/lib/flatpickr/dist/l10n/default.js"></script>
@RenderSection("Scripts", required: false)
@{
    var currentCultureCode = CultureInfo.CurrentCulture.Name;
    switch (currentCultureCode)
    {
        case "et-EE":
        case "en-US":
            currentCultureCode = currentCultureCode.Split('-')[0];
            break;
    }
}
<script>
let culture = '@currentCultureCode';
$('document').ready(function(){
       if (culture === "en"){
           flatpickr.localize(flatpickr.l10ns.default);
           flatpickr("#datepicker", {
               enableTime: true,
               minDate: "today",
               defaultDate: new Date(),
               time_24hr: false,
               dateFormat: "m/d/Y H:i"
           })
           
       } else {
           flatpickr.localize(flatpickr.l10ns.et);
           flatpickr("#datepicker", {
               enableTime: true,
               minDate: "today",
               defaultDate: new Date(),
               time_24hr: true,
               dateFormat: "d.m.Y H:i"
           })
       }
});
</script>
</body>
</html>